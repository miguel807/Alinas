import{E as b,r as s,B as V,F as n,L as r,O as y,M as _,P as t,I as u,Q as i,am as f,N as k,R as U,W as c}from"./index.a8db99c8.js";import{Q as C}from"./QInput.66be7811.js";import{a as g}from"./api.45c934da.js";import"./use-dark.93d8ea25.js";import"./focus-manager.02955f48.js";import"./use-form.7422adbb.js";const N={class:"text-h5"},F={key:0,class:"q-mt-lg",style:{width:"300px"}},P={key:1,class:"q-mt-lg",style:{width:"300px"}},O=b({__name:"EditUserPage",setup($){const d=s(!1),m=s(!1),p=s(""),v=s(""),l=s();V(async()=>{try{const e=await fetch(g.getUser);l.value=await e.json()}catch(e){console.log(e)}});const h=async()=>{try{const e={password:v.value},a=await fetch(`${g.getUser}${l.value[0].username}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(e){console.log(e)}},x=async()=>{try{const e={username:p.value},a=await fetch(`${g.getUser}${l.value[0].username}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(e){console.log(e)}};return(e,a)=>(n(),r(y,null,[(n(!0),r(y,null,_(l.value,o=>(n(),r("div",{key:o.username,class:"q-mt-xl",style:{display:"flex","flex-direction":"column",width:"300px"}},[k("span",N,"Usuario: "+U(o.username),1),t(i,{onClick:a[0]||(a[0]=w=>d.value=!d.value),style:{"margin-top":"20px","margin-bottom":"20px"},color:"negative"},{default:u(()=>[c("Cambiar nombre de usuario")]),_:1}),t(i,{onClick:a[1]||(a[1]=w=>m.value=!m.value),color:"negative"},{default:u(()=>[c("Cambiar contrase\xF1a")]),_:1})]))),128)),d.value?(n(),r("div",F,[t(C,{modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=o=>p.value=o),color:"negative",label:"Nombre de usuario",rules:[o=>!!o||"Campo es requerido"]},null,8,["modelValue","rules"]),t(i,{onClick:x,color:"negative"},{default:u(()=>[c("Cambiar")]),_:1})])):f("",!0),m.value?(n(),r("div",P,[t(C,{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=o=>v.value=o),color:"negative",label:"Contrase\xF1a",rules:[o=>!!o||"Campo es requerido"]},null,8,["modelValue","rules"]),t(i,{onClick:h,color:"negative"},{default:u(()=>[c("Cambiar")]),_:1})])):f("",!0)],64))}});export{O as default};
