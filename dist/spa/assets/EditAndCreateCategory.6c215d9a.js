import{Q as b}from"./QInput.66be7811.js";import{E as N,r as g,F as s,L as n,U as i,W as m,N as c,R as Q,P as u,I as d,G as v,Q as y,O as w,ao as E,V as x}from"./index.a8db99c8.js";import{Q as B}from"./QFile.8e106b08.js";import{a as C}from"./api.45c934da.js";import{F}from"./fetchData.11d9e322.js";import{u as I}from"./use-quasar.ff238c4f.js";import"./use-dark.93d8ea25.js";import"./focus-manager.02955f48.js";import"./use-form.7422adbb.js";import"./format.2a3572e1.js";const $={key:0},q={style:{color:"#ce0e31"}},D={key:1},U={style:{width:"20%"}},O=c("br",null,null,-1),J=N({__name:"EditAndCreateCategory",setup(P){const p=I(),f=new F,r=E(),e=g("");e.value=r.params.name;const o=g(null);function _(){p.notify({message:"Categor\xEDa Creada",color:"negative"})}function h(){p.notify({message:"Categor\xEDa Editada",color:"negative"})}const V=()=>{const t=`${C.downloadImage}/${o.value.name}`,a={name:e.value,photo:t,description:"",count_products:1};f.createOneCategory(a,o.value),_()},k=()=>{let t;if(o.value!==null){const a=`${C.downloadImage}/${o.value.name}`;t={name:e.value,photo:a}}else t={name:e.value};f.updateOneCategory(r.params.name,t,o.value),h()};return(t,a)=>(s(),n(w,null,[i(r).params.name!=="empty"?(s(),n("h5",$,[m(" Categoria: "),c("span",q,Q(i(r).params.name),1)])):(s(),n("h5",D,"Crear Categoria")),c("div",U,[u(b,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l),color:"negative",label:"Nombre Categoria",rules:[l=>!!l||"Campo es requerido"]},null,8,["modelValue","rules"]),O,u(B,{outlined:"",modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=l=>o.value=l),label:"foto"},{prepend:d(()=>[u(x,{name:"attach_file"})]),_:1},8,["modelValue"]),i(r).params.name!=="empty"?(s(),v(y,{key:0,color:"negative",class:"q-mt-md",disable:e.value==="",onClick:k},{default:d(()=>[m(" Editar ")]),_:1},8,["disable"])):(s(),v(y,{key:1,color:"negative",class:"q-mt-md",disable:e.value==="",onClick:V},{default:d(()=>[m(" Crear Categoria ")]),_:1},8,["disable"]))])],64))}});export{J as default};
